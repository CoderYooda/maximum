(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{sy7S:function(e,s,t){"use strict";t.r(s);var a={components:{ImagesUpload:t("QbiA").a},name:"feedback",data:function(){return{feedback:{id:0,name:"Без имени",email:"Feedback@mail.ru",comment:"Не указано",city:"Белгород",isPublished:!1,images:[]}}},mounted:function(){var e=this;this.$store.dispatch("get_feedbacks").then((function(){e.feedback=e.$store.getters.getfeedbackById(e.$route.params.id)[0],e.$refs.imgLoader.setImages(e.feedback.images),console.log(e.feedback)}))},computed:{},methods:{setImages:function(e){this.feedback.images=e.images},save:function(){var e=this,s=this.feedback.id?"update_feedback":"store_feedback";this.$store.dispatch(s,this.feedback).then((function(){e.$router.push({name:"feedbacks"})}))}}},i=t("KHd+"),r=Object(i.a)(a,(function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",[t("div",{staticClass:"d-sm-flex align-items-center justify-content-between mg-b-20 mg-lg-b-30"},[t("div",[t("nav",{attrs:{"aria-label":"breadcrumb"}},[t("ol",{staticClass:"breadcrumb breadcrumb-style1 mg-b-10"},[t("router-link",{attrs:{to:"/site",custom:""},scopedSlots:e._u([{key:"default",fn:function(s){var a=s.href,i=(s.route,s.navigate);s.isActive,s.isExactActive;return[t("li",{staticClass:"breadcrumb-item"},[t("a",{attrs:{href:a},on:{click:i}},[e._v("Управление сайтом")])])]}}])}),e._v(" "),t("li",{staticClass:"breadcrumb-item active",attrs:{"aria-current":"page"}},[e._v("\n                            "+e._s(e.feedback.id?'Редактирование клиента "'+e.feedback.name+'"':"Создание клиента")+"\n                        ")])],1)]),e._v(" "),t("h4",{staticClass:"mg-b-0 tx-spacing--1"},[e._v(e._s(e.feedback.id?'Редактирование клиента "'+e.feedback.name+'"':"Новый клиент"))])]),e._v(" "),t("div",{staticClass:"d-none d-md-block"},[t("button",{staticClass:"btn btn-sm pd-x-15 btn-white btn-uppercase",on:{click:e.save}},[e._v("Сохранить")])])]),e._v(" "),t("div",{staticClass:"overflow-hidden"},[t("div",{staticClass:"row"},[t("div",{staticClass:"col-lg-12"},[t("div",{staticClass:"form-group"},[t("div",{staticClass:"custom-control custom-switch"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.feedback.isPublished,expression:"feedback.isPublished"}],staticClass:"custom-control-input",attrs:{type:"checkbox",id:"isPublished"},domProps:{checked:Array.isArray(e.feedback.isPublished)?e._i(e.feedback.isPublished,null)>-1:e.feedback.isPublished},on:{change:function(s){var t=e.feedback.isPublished,a=s.target,i=!!a.checked;if(Array.isArray(t)){var r=e._i(t,null);a.checked?r<0&&e.$set(e.feedback,"isPublished",t.concat([null])):r>-1&&e.$set(e.feedback,"isPublished",t.slice(0,r).concat(t.slice(r+1)))}else e.$set(e.feedback,"isPublished",i)}}}),e._v(" "),t("label",{staticClass:"custom-control-label",attrs:{for:"isPublished"}},[e._v(" Опубликован")])])])]),e._v(" "),t("ImagesUpload",{ref:"imgLoader",attrs:{limit:"1"},on:{imagesChanged:e.setImages}}),e._v(" "),t("div",{staticClass:"col-lg-12"},[t("div",{staticClass:"form-group"},[t("label",{staticClass:"d-block"},[e._v("Имя клиента")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.feedback.name,expression:"feedback.name"}],staticClass:"form-control",class:{"is-invalid":!!this.$store.getters.feedback_store_errors.name},attrs:{type:"text",placeholder:"Имя клиента"},domProps:{value:e.feedback.name},on:{input:function(s){s.target.composing||e.$set(e.feedback,"name",s.target.value)}}}),e._v(" "),this.$store.getters.feedback_store_errors.name?t("div",{staticClass:"invalid-feedback"},[e._v(e._s(this.$store.getters.feedback_store_errors.name[0]))]):e._e()]),e._v(" "),t("div",{staticClass:"form-group"},[t("label",{staticClass:"d-block"},[e._v("Почта клиента")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.feedback.email,expression:"feedback.email"}],staticClass:"form-control",class:{"is-invalid":!!this.$store.getters.feedback_store_errors.email},attrs:{type:"text",placeholder:"Почта клиента"},domProps:{value:e.feedback.email},on:{input:function(s){s.target.composing||e.$set(e.feedback,"email",s.target.value)}}}),e._v(" "),this.$store.getters.feedback_store_errors.name?t("div",{staticClass:"invalid-feedback"},[e._v(e._s(this.$store.getters.feedback_store_errors.name[0]))]):e._e()]),e._v(" "),t("div",{staticClass:"form-group"},[t("label",{staticClass:"d-block"},[e._v("Город клиента")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.feedback.city,expression:"feedback.city"}],staticClass:"form-control",class:{"is-invalid":!!this.$store.getters.feedback_store_errors.email},attrs:{type:"text",placeholder:"Город клиента"},domProps:{value:e.feedback.city},on:{input:function(s){s.target.composing||e.$set(e.feedback,"city",s.target.value)}}}),e._v(" "),this.$store.getters.feedback_store_errors.name?t("div",{staticClass:"invalid-feedback"},[e._v(e._s(this.$store.getters.feedback_store_errors.name[0]))]):e._e()]),e._v(" "),t("div",{staticClass:"form-group"},[t("label",{staticClass:"d-block"},[e._v("Отзыв")]),e._v(" "),t("textarea",{directives:[{name:"model",rawName:"v-model",value:e.feedback.comment,expression:"feedback.comment"}],staticClass:"form-control",class:{"is-invalid":!!this.$store.getters.feedback_store_errors.content},attrs:{rows:"4"},domProps:{value:e.feedback.comment},on:{input:function(s){s.target.composing||e.$set(e.feedback,"comment",s.target.value)}}}),e._v(" "),this.$store.getters.feedback_store_errors.name?t("div",{staticClass:"invalid-feedback"},[e._v(e._s(this.$store.getters.feedback_store_errors.name[0]))]):e._e()])])],1)])])}),[],!1,null,null,null);s.default=r.exports}}]);