(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{NAiG:function(t,e,s){"use strict";s.r(e);var i={components:{ImagesUpload:s("QbiA").a},name:"client",data:function(){return{client:{name:"",content:"",link:"",phone:"",published:!0,images:[]}}},mounted:function(){var t=this;this.$store.dispatch("get_clients").then((function(){t.client=t.$store.getters.getclientById(t.$route.params.id)[0],t.$refs.imgLoader.setImages(t.client.images),console.log(t.client)}))},computed:{},methods:{setImages:function(t){this.client.images=t.images},save:function(){var t=this,e=this.client.id?"update_client":"store_client";this.$store.dispatch(e,this.client).then((function(){t.$router.push({name:"clients"})}))}}},a=s("KHd+"),l=Object(a.a)(i,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"d-sm-flex align-items-center justify-content-between mg-b-20 mg-lg-b-30"},[s("div",[s("nav",{attrs:{"aria-label":"breadcrumb"}},[s("ol",{staticClass:"breadcrumb breadcrumb-style1 mg-b-10"},[s("router-link",{attrs:{to:"/site",custom:""},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.href,a=(e.route,e.navigate);e.isActive,e.isExactActive;return[s("li",{staticClass:"breadcrumb-item"},[s("a",{attrs:{href:i},on:{click:a}},[t._v("Управление сайтом")])])]}}])}),t._v(" "),s("li",{staticClass:"breadcrumb-item active",attrs:{"aria-current":"page"}},[t._v("\n                            "+t._s(t.client.id?'Редактирование клиента "'+t.client.name+'"':"Создание клиента")+"\n                        ")])],1)]),t._v(" "),s("h4",{staticClass:"mg-b-0 tx-spacing--1"},[t._v(t._s(t.client.id?'Редактирование клиента "'+t.client.name+'"':"Новый клиент"))])]),t._v(" "),s("div",{staticClass:"d-none d-md-block"},[s("button",{staticClass:"btn btn-sm pd-x-15 btn-white btn-uppercase",on:{click:t.save}},[t._v("Сохранить")])])]),t._v(" "),s("div",{staticClass:"overflow-hidden"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-lg-12"},[s("div",{staticClass:"form-group"},[s("div",{staticClass:"custom-control custom-switch"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.client.isPublished,expression:"client.isPublished"}],staticClass:"custom-control-input",attrs:{type:"checkbox",id:"isPublished"},domProps:{checked:Array.isArray(t.client.isPublished)?t._i(t.client.isPublished,null)>-1:t.client.isPublished},on:{change:function(e){var s=t.client.isPublished,i=e.target,a=!!i.checked;if(Array.isArray(s)){var l=t._i(s,null);i.checked?l<0&&t.$set(t.client,"isPublished",s.concat([null])):l>-1&&t.$set(t.client,"isPublished",s.slice(0,l).concat(s.slice(l+1)))}else t.$set(t.client,"isPublished",a)}}}),t._v(" "),s("label",{staticClass:"custom-control-label",attrs:{for:"isPublished"}},[t._v(" Опубликован")])])])]),t._v(" "),s("ImagesUpload",{ref:"imgLoader",attrs:{limit:"1"},on:{imagesChanged:t.setImages}}),t._v(" "),s("div",{staticClass:"col-lg-12"},[s("div",{staticClass:"form-group"},[s("label",{staticClass:"d-block"},[t._v("Наименование клиента")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.client.name,expression:"client.name"}],staticClass:"form-control",class:{"is-invalid":!!this.$store.getters.client_store_errors.name},attrs:{type:"text",placeholder:"Наименование клиента"},domProps:{value:t.client.name},on:{input:function(e){e.target.composing||t.$set(t.client,"name",e.target.value)}}}),t._v(" "),this.$store.getters.client_store_errors.name?s("div",{staticClass:"invalid-feedback"},[t._v(t._s(this.$store.getters.client_store_errors.name[0]))]):t._e()])]),t._v(" "),s("div",{staticClass:"col-lg-12"},[s("div",{staticClass:"form-group"},[s("label",{staticClass:"d-block"},[t._v("ТЭГ клиента")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.client.tag,expression:"client.tag"}],staticClass:"form-control",class:{"is-invalid":!!this.$store.getters.client_store_errors.name},attrs:{type:"text",placeholder:"Ссылка клиента"},domProps:{value:t.client.tag},on:{input:function(e){e.target.composing||t.$set(t.client,"tag",e.target.value)}}}),t._v(" "),this.$store.getters.client_store_errors.name?s("div",{staticClass:"invalid-feedback"},[t._v(t._s(this.$store.getters.client_store_errors.name[0]))]):t._e()])]),t._v(" "),s("div",{staticClass:"col-lg-12"},[s("div",{staticClass:"form-group"},[s("label",{staticClass:"d-block"},[t._v("Телефон клиента")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.client.phone,expression:"client.phone"}],staticClass:"form-control",class:{"is-invalid":!!this.$store.getters.client_store_errors.name},attrs:{type:"text",placeholder:"Телефон клиента"},domProps:{value:t.client.phone},on:{input:function(e){e.target.composing||t.$set(t.client,"phone",e.target.value)}}}),t._v(" "),this.$store.getters.client_store_errors.name?s("div",{staticClass:"invalid-feedback"},[t._v(t._s(this.$store.getters.client_store_errors.name[0]))]):t._e()])]),t._v(" "),s("div",{staticClass:"col-lg-12"},[s("div",{staticClass:"form-group"},[s("label",{staticClass:"d-block"},[t._v("Ссылка клиента")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.client.link,expression:"client.link"}],staticClass:"form-control",class:{"is-invalid":!!this.$store.getters.client_store_errors.name},attrs:{type:"text",placeholder:"Ссылка клиента"},domProps:{value:t.client.link},on:{input:function(e){e.target.composing||t.$set(t.client,"link",e.target.value)}}}),t._v(" "),this.$store.getters.client_store_errors.name?s("div",{staticClass:"invalid-feedback"},[t._v(t._s(this.$store.getters.client_store_errors.name[0]))]):t._e()])])],1)])])}),[],!1,null,null,null);e.default=l.exports}}]);