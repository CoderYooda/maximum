(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{"T+3K":function(t,e,s){"use strict";s.r(e);var a=s("zUJn"),c=s("8j27"),i={components:{EditorContent:a.b,EditorMenuBubble:a.c},name:"Vacancy",data:function(){var t=this;return{vacancy:{title:"",content:"",published:!0},editor:new a.a({extensions:[new c.a,new c.c,new c.e,new c.f,new c.g({levels:[1,2,3]}),new c.k,new c.l,new c.n,new c.o,new c.j,new c.b,new c.d,new c.i,new c.m,new c.p,new c.h],content:"",onInit:function(){},onUpdate:function(e){var s=e.getHTML;t.vacancy.content=s()}})}},mounted:function(){var t=this;this.$store.dispatch("get_vacancies").then((function(){t.vacancy=t.$store.getters.getVacancyById(t.$route.params.id)[0],t.editor.setContent(t.vacancy.content),console.log(t.vacancy)}))},computed:{},methods:{save:function(){var t=this,e=this.vacancy.id?"update_vacancy":"store_vacancy";this.$store.dispatch(e,this.vacancy).then((function(){t.$router.push({name:"vacancies"})}))}}},n=s("KHd+"),o=Object(n.a)(i,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"d-sm-flex align-items-center justify-content-between mg-b-20 mg-lg-b-30"},[s("div",[s("nav",{attrs:{"aria-label":"breadcrumb"}},[s("ol",{staticClass:"breadcrumb breadcrumb-style1 mg-b-10"},[s("router-link",{attrs:{to:"/site",custom:""},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.href,c=(e.route,e.navigate);e.isActive,e.isExactActive;return[s("li",{staticClass:"breadcrumb-item"},[s("a",{attrs:{href:a},on:{click:c}},[t._v("Управление сайтом")])])]}}])}),t._v(" "),s("li",{staticClass:"breadcrumb-item active",attrs:{"aria-current":"page"}},[t._v("\n                            "+t._s(t.vacancy.id?'Редактирование вакансии "'+t.vacancy.title+'"':"Создание вакансии")+"\n                        ")])],1)]),t._v(" "),s("h4",{staticClass:"mg-b-0 tx-spacing--1"},[t._v(t._s(t.vacancy.id?'Редактирование вакансии "'+t.vacancy.title+'"':"Новая вакансия"))])]),t._v(" "),s("div",{staticClass:"d-none d-md-block"},[s("button",{staticClass:"btn btn-sm pd-x-15 btn-white btn-uppercase",on:{click:t.save}},[t._v("Сохранить")])])]),t._v(" "),s("div",{staticClass:"overflow-hidden"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-lg-12"},[s("div",{staticClass:"form-group"},[s("div",{staticClass:"custom-control custom-switch"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.vacancy.isPublished,expression:"vacancy.isPublished"}],staticClass:"custom-control-input",attrs:{type:"checkbox",id:"isPublished"},domProps:{checked:Array.isArray(t.vacancy.isPublished)?t._i(t.vacancy.isPublished,null)>-1:t.vacancy.isPublished},on:{change:function(e){var s=t.vacancy.isPublished,a=e.target,c=!!a.checked;if(Array.isArray(s)){var i=t._i(s,null);a.checked?i<0&&t.$set(t.vacancy,"isPublished",s.concat([null])):i>-1&&t.$set(t.vacancy,"isPublished",s.slice(0,i).concat(s.slice(i+1)))}else t.$set(t.vacancy,"isPublished",c)}}}),t._v(" "),s("label",{staticClass:"custom-control-label",attrs:{for:"isPublished"}},[t._v(" Опубликован")])])])]),t._v(" "),s("div",{staticClass:"col-lg-12"},[s("div",{staticClass:"form-group"},[s("label",{staticClass:"d-block"},[t._v("Наименование вакансии")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.vacancy.title,expression:"vacancy.title"}],staticClass:"form-control",class:{"is-invalid":!!this.$store.getters.vacancy_store_errors.name},attrs:{type:"text",placeholder:"Наименование вакансии"},domProps:{value:t.vacancy.title},on:{input:function(e){e.target.composing||t.$set(t.vacancy,"title",e.target.value)}}}),t._v(" "),this.$store.getters.vacancy_store_errors.name?s("div",{staticClass:"invalid-feedback"},[t._v(t._s(this.$store.getters.vacancy_store_errors.name[0]))]):t._e()])]),t._v(" "),s("div",{staticClass:"col-lg-12"},[s("div",{staticClass:"form-group"},[s("label",{staticClass:"d-block"},[t._v("Описание вакансии")]),t._v(" "),s("editor-menu-bubble",{attrs:{editor:t.editor},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.commands,c=e.isActive,i=e.menu;return[s("div",{staticClass:"menububble",class:{"is-active":i.isActive},style:"left: "+i.left+"px; bottom: "+i.bottom+"px;"},[s("button",{staticClass:"menububble__button",class:{"is-active":c.bold()},on:{click:a.bold}},[s("img",{attrs:{src:"/images/icons/typo/bold-w.svg",alt:""}})]),t._v(" "),s("button",{staticClass:"menububble__button",class:{"is-active":c.italic()},on:{click:a.italic}},[s("img",{attrs:{src:"/images/icons/typo/italic-w.svg",alt:""}})]),t._v(" "),s("button",{staticClass:"menububble__button",class:{"is-active":c.code()},on:{click:a.code}},[s("img",{attrs:{src:"/images/icons/typo/code-w.svg",alt:""}})])])]}}])}),t._v(" "),s("editor-content",{attrs:{editor:t.editor}}),t._v(" "),this.$store.getters.vacancy_store_errors.content?s("div",{staticClass:"invalid-feedback"},[t._v(t._s(this.$store.getters.vacancy_store_errors.content[0]))]):t._e()],1)])])])])}),[],!1,null,null,null);e.default=o.exports}}]);