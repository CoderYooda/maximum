(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{m67b:function(e,s,t){"use strict";t.r(s);var a={components:{ImagesUpload:t("QbiA").a},name:"employee",data:function(){return{employee:{name:"",post:"",isPublished:!0,images:[]}}},mounted:function(){var e=this;this.$store.dispatch("get_employees").then((function(){e.employee=e.$store.getters.getemployeeById(e.$route.params.id)[0],e.$refs.imgLoader.setImages(e.employee.images),console.log(e.employee)}))},computed:{},methods:{setImages:function(e){this.employee.images=e.images},save:function(){var e=this,s=this.employee.id?"update_employee":"store_employee";this.$store.dispatch(s,this.employee).then((function(){e.$router.push({name:"employees"})}))}}},o=t("KHd+"),i=Object(o.a)(a,(function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",[t("div",{staticClass:"d-sm-flex align-items-center justify-content-between mg-b-20 mg-lg-b-30"},[t("div",[t("nav",{attrs:{"aria-label":"breadcrumb"}},[t("ol",{staticClass:"breadcrumb breadcrumb-style1 mg-b-10"},[t("router-link",{attrs:{to:"/site",custom:""},scopedSlots:e._u([{key:"default",fn:function(s){var a=s.href,o=(s.route,s.navigate);s.isActive,s.isExactActive;return[t("li",{staticClass:"breadcrumb-item"},[t("a",{attrs:{href:a},on:{click:o}},[e._v("Управление сайтом")])])]}}])}),e._v(" "),t("li",{staticClass:"breadcrumb-item active",attrs:{"aria-current":"page"}},[e._v("\n                        "+e._s(e.employee.id?'Редактирование сотрудника "'+e.employee.name+'"':"Создание сотрудника")+"\n                    ")])],1)]),e._v(" "),t("h4",{staticClass:"mg-b-0 tx-spacing--1"},[e._v(e._s(e.employee.id?'Редактирование сотрудника "'+e.employee.name+'"':"Новый сотрудник"))])]),e._v(" "),t("div",{staticClass:"d-none d-md-block"},[t("button",{staticClass:"btn btn-sm pd-x-15 btn-white btn-uppercase",on:{click:e.save}},[e._v("Сохранить")])])]),e._v(" "),t("div",{staticClass:"overflow-hidden"},[t("div",{staticClass:"row"},[t("div",{staticClass:"col-lg-12"},[t("div",{staticClass:"form-group"},[t("div",{staticClass:"custom-control custom-switch"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.employee.isPublished,expression:"employee.isPublished"}],staticClass:"custom-control-input",attrs:{type:"checkbox",id:"isPublished"},domProps:{checked:Array.isArray(e.employee.isPublished)?e._i(e.employee.isPublished,null)>-1:e.employee.isPublished},on:{change:function(s){var t=e.employee.isPublished,a=s.target,o=!!a.checked;if(Array.isArray(t)){var i=e._i(t,null);a.checked?i<0&&e.$set(e.employee,"isPublished",t.concat([null])):i>-1&&e.$set(e.employee,"isPublished",t.slice(0,i).concat(t.slice(i+1)))}else e.$set(e.employee,"isPublished",o)}}}),e._v(" "),t("label",{staticClass:"custom-control-label",attrs:{for:"isPublished"}},[e._v(" Опубликован")])])])]),e._v(" "),t("ImagesUpload",{ref:"imgLoader",attrs:{limit:"1"},on:{imagesChanged:e.setImages}}),e._v(" "),t("div",{staticClass:"col-lg-12"},[t("div",{staticClass:"form-group"},[t("label",{staticClass:"d-block"},[e._v("Имя сотрудника")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.employee.name,expression:"employee.name"}],staticClass:"form-control",class:{"is-invalid":!!this.$store.getters.employee_store_errors.name},attrs:{type:"text",placeholder:"Имя сотрудника"},domProps:{value:e.employee.name},on:{input:function(s){s.target.composing||e.$set(e.employee,"name",s.target.value)}}}),e._v(" "),this.$store.getters.employee_store_errors.name?t("div",{staticClass:"invalid-feedback"},[e._v(e._s(this.$store.getters.employee_store_errors.name[0]))]):e._e()])]),e._v(" "),t("div",{staticClass:"col-lg-12"},[t("div",{staticClass:"form-group"},[t("label",{staticClass:"d-block"},[e._v("Должность сотрудника")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.employee.post,expression:"employee.post"}],staticClass:"form-control",class:{"is-invalid":!!this.$store.getters.employee_store_errors.name},attrs:{type:"text",placeholder:"Должность сотрудника"},domProps:{value:e.employee.post},on:{input:function(s){s.target.composing||e.$set(e.employee,"post",s.target.value)}}}),e._v(" "),this.$store.getters.employee_store_errors.name?t("div",{staticClass:"invalid-feedback"},[e._v(e._s(this.$store.getters.employee_store_errors.name[0]))]):e._e()])])],1)])])}),[],!1,null,null,null);s.default=i.exports}}]);